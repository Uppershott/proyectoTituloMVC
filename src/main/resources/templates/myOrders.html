<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Emprendimientos Ya!</title>
        <link href="css/styles.css" rel="stylesheet" />
        <link href="css/profileStyle.css" rel="stylesheet" />
        <link href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css" rel="stylesheet" crossorigin="anonymous" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" crossorigin="anonymous"></script>
</head>
<body class="sb-nav-fixed">
	<header th:replace="layout/header :: header"></header>
        <div id="layoutSidenav">
	        <div th:replace="Layout/body :: body"></div>
	        <div id="layoutSidenav_content">
	            <main>
					<div class="container-fluid">
						<ol class="breadcrumb mb-4">
                    		<li class="breadcrumb-item active"><b>Mis Pedidos</b></li>
                 		</ol>
					        <div class="card mb-4">
	                        <div class="card-body">
	                            <div th:if="${!session.ordersList.empty}" class="table-responsive">
	                                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
	                                    <thead>
	                                        <tr>
	                                            <th>Nombre del Evento</th>
	                                            <th><center>Nombre de la empresa</center></th>
	                                            <th><center>Dirección del Evento</center></th>
	                                            <th><center>Porciones reservadas</center></th>
	                                            <th><center>Precio por porción</center></th>
	                                            <th><center>Estado</center></th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                    	<tr th:each="orders: ${session.ordersList}">
	                                    		<td><a th:href="|@{/orderDet/{id}(id=${orders.id})}|" th:text="${orders.evento.nombre}"></a></td>
	                                    		<td style="text-align: center" th:text="${orders.evento.empresa.nombre}"/>
	                                    		<td style="text-align: center" th:text="${orders.evento.empresa.direccion}"/>
	                                    		<td style="text-align: center" th:text="${orders.cantidad}"/>
	                                    		<td style="text-align: right" th:text="'$'+${orders.evento.precio}"/>
					                            <td style="text-align: center"><label th:if="${orders.evento.habilitado}">Vigente</label>
					                            	<label th:if="${!orders.evento.habilitado}">Terminado</label>
					                            </td>
	                                    	</tr>
	                                    </tbody>
	                                </table>
	                            </div>
	                            <div th:if="${session.ordersList.empty}" >
	                            	<ol class="breadcrumb mb-4">
		                    			<li class="breadcrumb-item active">No ha realizado pedidos</li>
		                 			</ol>
		                 		</div>
	                        </div> 
	                    </div>
				    </div>
	            </main>
	            <footer  th:replace="Layout/footer :: footer">
	            </footer>
	         </div>
	     </div>
	     <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="js/scripts.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
        <script src="assets/demo/chart-area-demo.js"></script>
        <script src="assets/demo/chart-bar-demo.js"></script>
        <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js" crossorigin="anonymous"></script>
        <script src="assets/demo/datatables-demo.js"></script>
</body>
</html>